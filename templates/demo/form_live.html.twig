{% extends 'base.html.twig' %}

{% block title %}{{ formTitle }} - Démonstration Ambelz{% endblock %}

{% block body %}
<div class="">
    <!-- En-tête de la page -->
    <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2">
            <twig:ux:icon name="tabler:file-description" class="text-primary me-2" />
            Formulaire : {{ formTitle }}
        </h1>
        <div class="btn-toolbar mb-2 mb-md-0">
            <div class="btn-group me-2">
                <a href="{{ path('demo_index') }}" class="btn btn-sm btn-outline-secondary">
                    <twig:ux:icon name="tabler:arrow-left" class="me-1" />Retour
                </a>
            </div>
        </div>
    </div>

    <!-- Breadcrumb -->
    <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">
                <a href="{{ path('demo_index') }}" class="text-decoration-none">
                    <twig:ux:icon name="tabler:home" class="me-1" />Accueil
                </a>
            </li>
            <li class="breadcrumb-item">
                <span class="text-capitalize">{{ category|replace({'_': ' ', '-': ' '}) }}</span>
            </li>
            <li class="breadcrumb-item active" aria-current="page">
                {{ formTitle }}
            </li>
        </ol>
    </nav>

    <!-- Description de la technologie -->
    <div class="alert alert-info border-0 shadow-sm mb-4">
        <div class="row align-items-center">
            <div class="col-md-8">
                <h5 class="alert-heading mb-2">
                    <twig:ux:icon name="tabler:bolt" class="text-warning me-2" />
                    Technologie : Symfony UX LiveComponent
                </h5>
                <p class="mb-0">
                    Ce formulaire est généré dynamiquement à partir d'une structure JSON en utilisant 
                    <strong>Symfony UX LiveComponent</strong> pour une expérience interactive et réactive 
                    sans rechargement de page.
                </p>
            </div>
            <div class="col-md-4 text-end">
                <div class="badge bg-primary fs-6 p-2">
                    <twig:ux:icon name="tabler:settings" class="me-1" />
                    JSON → Formulaire Dynamique
                </div>
            </div>
        </div>
    </div>

    <!-- LiveComponent pour le formulaire -->
    <div class="mb-5">
        {{ component('JsonFormComponent', {
            jsonFilePath: jsonFilePath,
            category: category,
            formTitle: formTitle,
        }) }}
    </div>

    <!-- Section d'informations techniques -->
    <div class="row mt-5">
        <div class="col-lg-6">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-light">
                    <h6 class="mb-0 text-primary">
                        <twig:ux:icon name="tabler:cpu" class="me-2" />Technologies utilisées
                    </h6>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mb-0">
                        <li class="mb-2">
                            <twig:ux:icon name="tabler:circle-check" class="text-success me-2" />
                            <strong>Symfony 7</strong> - Framework PHP moderne
                        </li>
                        <li class="mb-2">
                            <twig:ux:icon name="tabler:circle-check" class="text-success me-2" />
                            <strong>Symfony UX LiveComponent</strong> - Interactivité temps réel
                        </li>
                        <li class="mb-2">
                            <twig:ux:icon name="tabler:circle-check" class="text-success me-2" />
                            <strong>Bootstrap 5</strong> - Interface responsive
                        </li>
                        <li class="mb-2">
                            <twig:ux:icon name="tabler:circle-check" class="text-success me-2" />
                            <strong>JSON Schema</strong> - Structure de formulaire
                        </li>
                        <li>
                            <twig:ux:icon name="tabler:circle-check" class="text-success me-2" />
                            <strong>Symfony Validator</strong> - Validation côté serveur
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-light">
                    <h6 class="mb-0 text-primary">
                        <twig:ux:icon name="tabler:star" class="me-2" />Fonctionnalités
                    </h6>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mb-0">
                        <li class="mb-2">
                            <twig:ux:icon name="tabler:bolt" class="text-warning me-2" />
                            <strong>Temps réel</strong> - Validation instantanée
                        </li>
                        <li class="mb-2">
                            <twig:ux:icon name="tabler:shield-lock" class="text-primary me-2" />
                            <strong>Sécurisé</strong> - Protection CSRF et validation
                        </li>
                        <li class="mb-2">
                            <twig:ux:icon name="tabler:device-mobile" class="text-info me-2" />
                            <strong>Responsive</strong> - Compatible mobile/desktop
                        </li>
                        <li class="mb-2">
                            <twig:ux:icon name="tabler:eye" class="text-secondary me-2" />
                            <strong>Mode démo</strong> - Pas d'enregistrement réel
                        </li>
                        <li>
                            <twig:ux:icon name="tabler:code" class="text-dark me-2" />
                            <strong>JSON visible</strong> - Structure transparente
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}