{#
   This is the base template used as the application layout which contains the
   common elements and decorates all the other templates.
   See https://symfony.com/doc/current/templates.html#template-inheritance-and-layouts
#}
<!DOCTYPE html>
<html lang="{{ app.locale }}">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1"/>
        <meta name="view-transition" content="same-origin" />
        <title>{% block title %}Symfony Demo application{% endblock %}</title>
        <link rel="alternate" type="application/rss+xml" title="{{ 'rss.title'|trans }}" href="{{ path('blog_rss') }}">

        {#
            Those two blocks defines frontend entrypoint for CSS and JavaScript assets
            See https://symfony.com/doc/current/frontend.html
        #}
        {% block stylesheets %}{% endblock %}
        {% block javascripts %}
            {% block importmap %}{{ importmap('app') }}{% endblock %}
        {% endblock %}
        <link rel="shortcut icon" type="image/svg+xml" href="{{ asset('favicon.svg') }}">
    </head>

    <body id="{% block body_id %}{% endblock %}">
        <div class="row">
            <aside class="col-lg-3 col-md-4 col-sm-12 d-flex flex-column">
                <div class="p-4 h3 text-center">
                    Ambelz
                </div>
                <div class="border-top border-gray flex-grow-1">
                    <!-- Menu responsive avec collapse pour mobile -->
                    <div class="d-md-none p-3">
                        <button class="btn btn-outline-primary w-100" type="button" data-bs-toggle="collapse" data-bs-target="#sidebarMenu" aria-expanded="false" aria-controls="sidebarMenu">
                            <i class="bi bi-list"></i> Menu des cas d'usage
                        </button>
                    </div>
                    
                    <!-- Menu principal -->
                    <div class="collapse d-md-block" id="sidebarMenu">
                        <nav class="nav flex-column p-3">
                            <h6 class="nav-header text-muted text-uppercase fw-bold mb-3">Ambelz - Vitrine</h6>
                            
                            <!-- Vision & Stratégie -->
                            <div class="mb-3">
                                <h6 class="text-secondary fw-semibold mb-2">
                                    <i class="bi bi-lightbulb"></i> Vision & Stratégie
                                </h6>
                                <div class="nav-link ps-3 py-1">
                                    <i class="bi bi-info-circle"></i> À propos d'Ambelz
                                </div>
                                <div class="nav-link ps-3 py-1">
                                    <i class="bi bi-diagram-3"></i> Architecture de l'offre
                                </div>
                                <div class="nav-link ps-3 py-1">
                                    <i class="bi bi-map"></i> Roadmap 2025
                                </div>
                            </div>
                            
                            <!-- Bibliothèque de formulaires -->
                            <div class="mb-3">
                                <h6 class="text-secondary fw-semibold mb-2">
                                    <i class="bi bi-collection"></i> Bibliothèque de formulaires
                                </h6>
                                
                                <!-- Authentification -->
                                <div class="mb-2">
                                    <button class="btn btn-link nav-link ps-3 py-1 w-100 text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#authForms" aria-expanded="false">
                                        <i class="bi bi-person-check"></i> Authentification <i class="bi bi-chevron-down float-end"></i>
                                    </button>
                                    <div class="collapse" id="authForms">
                                        <a href="{{ path('demo_form', {category: 'authentification', formName: 'inscription'}) }}" class="nav-link ps-5 py-1 small text-decoration-none"><i class="bi bi-person-plus"></i> Inscription</a>
                                        <a href="{{ path('demo_form', {category: 'authentification', formName: 'connexion'}) }}" class="nav-link ps-5 py-1 small text-decoration-none"><i class="bi bi-box-arrow-in-right"></i> Connexion</a>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-key"></i> Mot de passe oublié <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-shield-lock"></i> Changement mot de passe <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-person-gear"></i> Profil utilisateur <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-person-x"></i> Suppression compte <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-envelope-check"></i> Vérification email <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-shield-check"></i> Authentification 2FA <small class="text-warning">(Bientôt disponible)</small></div>
                                    </div>
                                </div>
                                
                                <!-- Communication -->
                                <div class="mb-2">
                                    <button class="btn btn-link nav-link ps-3 py-1 w-100 text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#commForms" aria-expanded="false">
                                        <i class="bi bi-chat-square-text"></i> Communication <i class="bi bi-chevron-down float-end"></i>
                                    </button>
                                    <div class="collapse" id="commForms">
                                        <a href="{{ path('demo_form', {category: 'communication', formName: 'contact'}) }}" class="nav-link ps-5 py-1 small text-decoration-none"><i class="bi bi-envelope-at"></i> Contact simple</a>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-headset"></i> Contact support <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-newspaper"></i> Newsletter <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-info-circle"></i> Demande d'information <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-calendar-event"></i> Prise de rendez-vous <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-chat-heart"></i> Feedback produit <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-exclamation-triangle"></i> Signalement <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-handshake"></i> Demande partenariat <small class="text-warning">(Bientôt disponible)</small></div>
                                    </div>
                                </div>
                                
                                <!-- E-commerce -->
                                <div class="mb-2">
                                    <button class="btn btn-link nav-link ps-3 py-1 w-100 text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#ecommForms" aria-expanded="false">
                                        <i class="bi bi-cart3"></i> E-commerce <i class="bi bi-chevron-down float-end"></i>
                                    </button>
                                    <div class="collapse" id="ecommForms">
                                        <a href="{{ path('demo_form', {category: 'ecommerce', formName: 'commande_produit'}) }}" class="nav-link ps-5 py-1 small text-decoration-none"><i class="bi bi-bag-check"></i> Commande produit</a>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-calculator"></i> Demande de devis <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-receipt"></i> Facturation <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-arrow-return-left"></i> Retour produit <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-star"></i> Avis client <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-heart"></i> Liste de souhaits <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-arrows-collapse"></i> Comparateur <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-arrow-repeat"></i> Abonnement <small class="text-warning">(Bientôt disponible)</small></div>
                                    </div>
                                </div>
                                
                                <!-- Ressources Humaines -->
                                <div class="mb-2">
                                    <button class="btn btn-link nav-link ps-3 py-1 w-100 text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#rhForms" aria-expanded="false">
                                        <i class="bi bi-building"></i> Ressources Humaines <i class="bi bi-chevron-down float-end"></i>
                                    </button>
                                    <div class="collapse" id="rhForms">
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-file-person"></i> Candidature emploi <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-clipboard-data"></i> Évaluation employé <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-calendar-x"></i> Demande de congés <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-receipt-cutoff"></i> Note de frais <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-mortarboard"></i> Formation <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-clipboard-pulse"></i> Enquête interne <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-chat-square-dots"></i> Entretien annuel <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-door-open"></i> Démission <small class="text-warning">(Bientôt disponible)</small></div>
                                    </div>
                                </div>
                                
                                <!-- Enquêtes & Sondages -->
                                <div class="mb-2">
                                    <button class="btn btn-link nav-link ps-3 py-1 w-100 text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#surveyForms" aria-expanded="false">
                                        <i class="bi bi-clipboard-check"></i> Enquêtes & Sondages <i class="bi bi-chevron-down float-end"></i>
                                    </button>
                                    <div class="collapse" id="surveyForms">
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-emoji-smile"></i> Satisfaction client <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-graph-up"></i> Étude de marché <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-check2-square"></i> Sondage politique <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-lightbulb"></i> Enquête produit <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-question-circle"></i> Quiz interactif <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-award"></i> Évaluation formation <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-calendar-event"></i> Feedback événement <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-clipboard-heart"></i> Questionnaire médical <small class="text-warning">(Bientôt disponible)</small></div>
                                    </div>
                                </div>
                                
                                <!-- Légal & Compliance -->
                                <div class="mb-2">
                                    <button class="btn btn-link nav-link ps-3 py-1 w-100 text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#legalForms" aria-expanded="false">
                                        <i class="bi bi-shield-check"></i> Légal & Compliance <i class="bi bi-chevron-down float-end"></i>
                                    </button>
                                    <div class="collapse" id="legalForms">
                                        <a href="{{ path('demo_form', {category: 'legal', formName: 'parcours_kyc'}) }}" class="nav-link ps-5 py-1 small text-decoration-none"><i class="bi bi-bag-check"></i> Parcours KYC</a>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-shield-lock"></i> Consentement RGPD <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-file-earmark-text"></i> Déclaration fiscale <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-pen"></i> Contrat en ligne <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-exclamation-octagon"></i> Déclaration incident <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-clipboard-check"></i> Audit interne <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-file-earmark-x"></i> Plainte officielle <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-truck"></i> Déclaration douanière <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-bank"></i> Conformité secteur <small class="text-warning">(Bientôt disponible)</small></div>
                                    </div>
                                </div>
                                
                                <!-- Upload & Documents -->
                                <div class="mb-2">
                                    <button class="btn btn-link nav-link ps-3 py-1 w-100 text-start collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#uploadForms" aria-expanded="false">
                                        <i class="bi bi-cloud-upload"></i> Upload & Documents <i class="bi bi-chevron-down float-end"></i>
                                    </button>
                                    <div class="collapse" id="uploadForms">
                                        <a href="{{ path('demo_form', {category: 'upload', formName: 'upload_documents'}) }}" class="nav-link ps-5 py-1 small text-decoration-none"><i class="bi bi-file-earmark-arrow-up"></i> Upload de documents</a>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-files"></i> Upload multiple <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-images"></i> Galerie photos <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-file-earmark-text"></i> Documents administratifs <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-palette"></i> Portfolio <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-cloud-arrow-up"></i> Backup personnel <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-share"></i> Partage fichiers <small class="text-warning">(Bientôt disponible)</small></div>
                                        <div class="nav-link ps-5 py-1 small text-muted"><i class="bi bi-archive"></i> Archive projet <small class="text-warning">(Bientôt disponible)</small></div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Démonstration -->
                            <div class="mb-3">
                                <h6 class="text-secondary fw-semibold mb-2">
                                    <i class="bi bi-mortarboard"></i> Démonstration
                                </h6>
                                
                                <!-- Types de champs -->
                                <div class="mb-2">
                                    <a href="{{ path('demo_form', {category: 'champs', formName: 'types_de_champs_simple'}) }}" class="nav-link ps-3 py-1 text-decoration-none">
                                        <i class="bi bi-collection"></i> Catalogue des types de champs (Simple)
                                    </a>
                                </div>
                                <div class="mb-2">
                                    <a href="{{ path('demo_form', {category: 'champs', formName: 'types_de_champs'}) }}" class="nav-link ps-3 py-1 text-decoration-none text-muted">
                                        <i class="bi bi-collection-fill"></i> Catalogue complet <small class="text-warning">(Debug)</small>
                                    </a>
                                </div>
                                
                                <!-- Autres démos à venir -->
                                <div class="nav-link ps-3 py-1 small text-muted">
                                    <i class="bi bi-magic"></i> Formulaires dynamiques <small class="text-warning">(Bientôt disponible)</small>
                                </div>
                                <div class="nav-link ps-3 py-1 small text-muted">
                                    <i class="bi bi-layers"></i> Collections avancées <small class="text-warning">(Bientôt disponible)</small>
                                </div>
                                <div class="nav-link ps-3 py-1 small text-muted">
                                    <i class="bi bi-diagram-3"></i> Formulaires conditionnels <small class="text-warning">(Bientôt disponible)</small>
                                </div>
                            </div>
                            
                            <!-- Services & Solutions -->
                            <div class="mb-3">
                                <h6 class="text-secondary fw-semibold mb-2">
                                    <i class="bi bi-gear-wide-connected"></i> Services & Solutions
                                </h6>
                                <div class="nav-link ps-3 py-1">
                                    <i class="bi bi-code-square"></i> Package Open Source
                                </div>
                                <div class="nav-link ps-3 py-1">
                                    <i class="bi bi-cloud"></i> Services SaaS Premium
                                </div>
                                <div class="nav-link ps-3 py-1">
                                    <i class="bi bi-graph-up"></i> Analytics & Insights
                                </div>
                                <div class="nav-link ps-3 py-1">
                                    <i class="bi bi-shield-lock"></i> Compliance & Sécurité
                                </div>
                            </div>
                            
                            <!-- Communauté -->
                            <div class="mb-3">
                                <h6 class="text-secondary fw-semibold mb-2">
                                    <i class="bi bi-people"></i> Communauté
                                </h6>
                                <div class="nav-link ps-3 py-1">
                                    <i class="bi bi-book"></i> Documentation
                                </div>
                                <div class="nav-link ps-3 py-1">
                                    <i class="bi bi-github"></i> Code Source
                                </div>
                                <div class="nav-link ps-3 py-1">
                                    <i class="bi bi-chat-dots"></i> Support & Discord
                                </div>
                            </div>
                        </nav>
                    </div>
                </div>
            </aside>
            {# {% block header %}
                {% set _route = app.current_route %}
                <header>
                    <nav class="navbar navbar-expand-lg fixed-top navbar-dark bg-primary">
                        <div class="container">
                            <a class="navbar-brand" href="{{ path('homepage') }}">
                                Symfony Demo
                            </a>
                            <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#appNavbar" aria-controls="appNavbar" aria-expanded="false" aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon"></span>
                            </button>

                            <div class="navbar-collapse collapse" id="appNavbar">
                                <ul class="navbar-nav ml-auto">
                                    {% block header_navigation_links %}
                                        <li class="nav-item{{ _route == 'blog_index' ? ' active' : '' }}">
                                            <a class="nav-link" href="{{ path('blog_index') }}">
                                                <twig:ux:icon name="tabler:home"/> {{ 'menu.homepage'|trans }}
                                            </a>
                                        </li>
                                        {% if is_granted('ROLE_ADMIN') %}
                                            <li class="nav-item">
                                                <a class="nav-link" href="{{ path('admin_post_index') }}">
                                                    <twig:ux:icon name="tabler:lock"/> {{ 'menu.admin'|trans }}
                                                </a>
                                            </li>
                                        {% endif %}
                                    {% endblock %}

                                    <li class="nav-item{{ _route == 'blog_search' ? ' active' : '' }}">
                                        <a class="nav-link" href="{{ path('blog_search') }}"> <twig:ux:icon name="tabler:search"/> {{ 'menu.search'|trans }}</a>
                                    </li>

                                    {% if app.user %}
                                        <li class="nav-item dropdown">
                                            <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false" id="user">
                                                <twig:ux:icon name="tabler:user"/>
                                                <span class="caret"></span>
                                                <span class="sr-only">{{ app.user.fullname }}</span>
                                            </a>
                                            <div class="dropdown-menu user" role="menu" aria-labelledby="user">
                                                <a class="dropdown-item" href="{{ path('user_edit') }}">
                                                    <twig:ux:icon name="tabler:id-badge-2"/> {{ 'menu.user'|trans }}
                                                </a>
                                                <div class="dropdown-divider"></div>
                                                <a class="dropdown-item" href="{{ logout_path() }}">
                                                    <twig:ux:icon name="tabler:logout"/> {{ 'menu.logout'|trans }}
                                                </a>
                                            </div>
                                        </li>
                                    {% endif %}

                                    <li class="nav-item dropdown">
                                        {% from 'default/_language_selector.html.twig' import render_language_selector %}
                                        {{ render_language_selector() }}
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                </header>
            {% endblock %} #}

            <div class="col-lg-9 col-md-8 col-sm-12">
                <div class="container body-container">
                    {% block body %}
                        <div class="row">
                            <div id="main" class="col-sm-9">
                                {{ include('default/_flash_messages.html.twig') }}

                                {% block main %}{% endblock %}
                            </div>

                            <div id="sidebar" class="col-sm-3">
                                {% block sidebar %}
                                    {{ render_esi(controller('Symfony\\Bundle\\FrameworkBundle\\Controller\\TemplateController::templateAction', {
                                        'template': 'blog/about.html.twig',
                                        'sharedAge': 600,
                                        '_locale': app.locale
                                    })) }}
                                {% endblock %}
                            </div>
                        </div>
                    {% endblock %}
                </div>

                {% block footer %}
                    <footer>
                        <div class="container">
                            <div class="row">
                                <div id="footer-copyright" class="col-md-6">
                                    <p>&copy; {{ 'now'|date('Y') }} - The Symfony Project</p>
                                    <p>{{ 'mit_license'|trans }}</p>
                                </div>
                                <div id="footer-resources" class="col-md-6">
                                    <p>
                                        <a rel="noopener noreferrer" target="_blank" href="https://twitter.com/symfony" title="Symfony on X (formerly Twitter)">
                                            <twig:ux:icon name="tabler:brand-x" font-size="28px" /> <span class="sr-only">X/Twitter</span>
                                        </a>
                                        <a target="_blank" href="https://symfony.com/blog/" title="Symfony Blog">
                                            <twig:ux:icon name="tabler:rss" font-size="28px" /> <span class="sr-only">RSS feed</span>
                                        </a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </footer>
                {% endblock %}
            </div>
        </div>
    </body>
</html>
